library(dplyr)
library(ggplot2)
setwd("C:/Users/jeff6/Desktop/Github/alan/Week2-1")
#--------------------------------------------------------------------------------------台北
a <- read.csv("空氣品質監測小時值台北.csv")
##b <- filter(a, 測項.單位. %in% c("溫度 AMB_TEMP (℃)", "風向 WIND_DIREC (degrees)", "細懸浮微粒 PM 2.5  (μg/m 3 )", "相對濕度 RH (percent)" ))
#刪除多的一行(台北的數據)
a = a[-51, ]
#選出需要的測項
TEMP = filter(a, 測項.單位. %in% "溫度 AMB_TEMP (℃)")
WD = filter(a, 測項.單位. %in% "風向 WIND_DIREC (degrees)")
PM = filter(a, 測項.單位. %in% "細懸浮微粒 PM 2.5  (μg/m 3 )")
RH = filter(a, 測項.單位. %in% "相對濕度 RH (percent)")
#刪除1~6不要的數據
for (x in (1:6))
{
TEMP <- TEMP[ ,-1]
WD <- WD[ ,-1]
PM <- PM[ ,-1]
RH <- RH[ ,-1]
}
#取數值
TPTEMP <- filter(TEMP[1, ])
TPWD <- filter(WD[1, ])
TPPM <- filter(PM[1, ])
TPRH <- filter(RH[1, ])
#再和其他的合成一行
for (i in 2:6)
{
TPTEMP <- cbind(TPTEMP,filter(TEMP[i, ]))
TPWD <- cbind(TPWD,filter(WD[i, ]))
TPPM <- cbind(TPPM,filter(PM[i, ]))
TPRH <- cbind(TPRH,filter(RH[i, ]))
}
TPTEMP <- t(TPTEMP)
TPTEMP <- data.frame(TPTEMP)
TPWD <- t(TPWD)
TPWD <- data.frame(TPWD)
TPPM <- t(TPPM)
TPPM <- data.frame(TPPM)
TPRH <- t(TPRH)
TPRH <- data.frame(TPRH)
#合併total
TPtotal <- bind_cols(TPTEMP,TPWD,TPPM,TPRH)
#照數字大小排列!!沒做的話,排序會怪怪的
TPtotal$TPPM <- factor(TPtotal$TPPM, levels = c(1:50 ), ordered = TRUE )
TPtotal$TPWD <- factor(TPtotal$TPWD, levels = c(1:360 ), ordered = TRUE )
#散佈圖
ggplot(data = TPtotal)+
geom_point(aes(x=TPPM,y=TPWD,color=TPPM))
install.packages("installr")
require(installr)或者library("installr")
updateR()
install.packages("installr")
library("installr")
updateR()
updateR()
install.packages("installr")
install.packages("installr")
updateR()
